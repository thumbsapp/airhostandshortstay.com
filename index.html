<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <title>AirHost & ShortStay ¬∑ Real‚Äëtime map discovery</title>
  <!-- PWA -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#0b1c2f">
  <!-- Leaflet CSS (OpenStreetMap) -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <!-- Font Awesome 6 (free) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <!-- Main styles -->
  <link rel="stylesheet" href="css/main.css">
  <!-- Preconnect for performance -->
  <link rel="preconnect" href="https://unpkg.com">
  <link rel="preconnect" href="https://cdnjs.cloudflare.com">
</head>
<body>
  <!-- GLOBAL HEADER (identical on all pages) -->
  <header class="global-header">
    <div class="header-row">
      <div class="logo-area">
        <a href="index.html"><img src="images/logo.svg" alt="AirHost & ShortStay" class="logo"></a>
      </div>
      <div class="global-search">
        <form id="global-search-form" action="search.html" method="get">
          <input type="search" name="location" placeholder="Anywhere" aria-label="Destination">
          <input type="text" name="dates" placeholder="Any week" aria-label="Dates">
          <input type="number" name="guests" placeholder="Guests" min="1" aria-label="Guests">
          <button type="submit" aria-label="Search"><i class="fas fa-search"></i></button>
        </form>
      </div>
      <div class="user-tools">
        <div class="lang-currency">
          <select aria-label="Language">
            <option>EN</option>
            <option>SW</option>
            <option>FR</option>
          </select>
          <select aria-label="Currency">
            <option>KES</option>
            <option>USD</option>
            <option>EUR</option>
          </select>
        </div>
        <a href="#" class="user-icon" aria-label="Account"><i class="far fa-user-circle"></i></a>
        <a href="#" class="favorites-badge" aria-label="Favorites"><i class="far fa-heart"></i><span id="fav-counter">0</span></a>
      </div>
    </div>
    <!-- Navigation menu -->
    <nav class="global-nav">
      <ul>
        <li><a href="index.html" class="active">Home</a></li>
        <li><a href="search.html">Map View</a></li>
        <li><a href="#">Destinations</a></li>
        <li><a href="#" id="favorites-nav">Favorites / Pins</a></li>
        <li><a href="#">Services</a></li>
        <li><a href="#">Help</a></li>
      </ul>
    </nav>
  </header>

  <!-- PERSISTENT SEARCH UI (sticky) -->
  <div class="sticky-search">
    <form id="sticky-search-form" action="search.html" method="get">
      <div class="search-group">
        <span class="search-label">Location</span>
        <input type="text" name="loc" placeholder="Nairobi, Kenya" value="">
      </div>
      <div class="search-group">
        <span class="search-label">Dates</span>
        <input type="text" name="dates" placeholder="Mar 10 ‚Äì 17">
      </div>
      <div class="search-group">
        <span class="search-label">Guests</span>
        <input type="number" name="guests" placeholder="2" min="1">
      </div>
      <button type="submit" class="search-btn"><i class="fas fa-search"></i></button>
    </form>
  </div>

  <!-- MAIN CONTENT: HOMEPAGE REAL‚ÄëTIME DISCOVERY -->
  <main class="homepage">
    <!-- 1. HERO / REAL-TIME MAP CANVAS -->
    <section class="map-hero">
      <div id="home-map" class="full-map"></div>
      <!-- Radius selector overlay -->
      <div class="radius-control">
        <span class="radius-label">Radius:</span>
        <div class="radius-buttons">
          <button data-radius="1" class="active">1km</button>
          <button data-radius="5">5km</button>
          <button data-radius="10">10km</button>
          <button data-radius="25">25km</button>
          <button data-radius="50">50km</button>
          <button data-radius="100">100km</button>
        </div>
      </div>
      <!-- Geolocation trigger -->
      <button id="locate-me" class="locate-btn" aria-label="Use my location"><i class="fas fa-location-dot"></i></button>
    </section>

    <!-- 2. QUICK FILTER BAR (inline) -->
    <section class="quick-filters">
      <div class="filter-row price-slider">
        <label>Price per night (KES)</label>
        <input type="range" id="price-range" min="0" max="50000" step="1000" value="25000">
        <span id="price-display">‚â§ 25,000</span>
      </div>
      <div class="filter-row tiers">
        <span>Tier:</span>
        <label><input type="checkbox" value="silver" checked> Silver</label>
        <label><input type="checkbox" value="gold" checked> Gold</label>
        <label><input type="checkbox" value="diamond" checked> Diamond</label>
      </div>
      <div class="filter-row amenities">
        <span>Amenities:</span>
        <label><input type="checkbox" value="wifi"> Wi‚ÄëFi</label>
        <label><input type="checkbox" value="ac"> AC</label>
        <label><input type="checkbox" value="pool"> Pool</label>
        <label><input type="checkbox" value="pet"> Pet‚Äëfriendly</label>
        <label><input type="checkbox" value="kitchen"> Kitchen</label>
        <label><input type="checkbox" value="generator"> Generator</label>
      </div>
      <div class="filter-row guests-beds">
        <input type="number" placeholder="Bedrooms" min="0" id="bedrooms">
        <input type="number" placeholder="Bathrooms" min="0" id="bathrooms">
      </div>
      <!-- Native date picker stub -->
      <div class="filter-row date-picker">
        <input type="date" id="checkin" value="2025-03-10">
        <input type="date" id="checkout" value="2025-03-17">
      </div>
      <button id="apply-filters" class="btn-primary">Apply filters</button>
    </section>

    <!-- 3. HOT HOMES CAROUSEL (urgency) -->
    <section class="hot-homes">
      <h2>üî• Hot homes ¬∑ selling fast</h2>
      <div class="carousel" id="hot-homes-carousel">
        <!-- dynamically injected via js/data.js -->
      </div>
    </section>

    <!-- 4. FEATURED OFFERS (tier promotions) -->
    <section class="featured-offers">
      <h2>‚ú® Diamond & Gold exclusives</h2>
      <div class="offer-grid" id="featured-offers-grid"></div>
    </section>

    <!-- 5. POPULAR REGIONS (East Africa) -->
    <section class="popular-regions">
      <h2>üìç Popular destinations</h2>
      <div class="region-chips">
        <a href="search.html?location=Nairobi" class="region-chip">Nairobi</a>
        <a href="search.html?location=Mombasa" class="region-chip">Mombasa</a>
        <a href="search.html?location=Dar%20es%20Salaam" class="region-chip">Dar es Salaam</a>
        <a href="search.html?location=Kigali" class="region-chip">Kigali</a>
      </div>
    </section>

    <!-- 6. LISTINGS PANEL (collapsible bottom sheet on mobile) -->
    <section class="listings-panel" id="home-listings-panel">
      <div class="panel-header">
        <h2>‚ú® Available near you</h2>
        <button id="toggle-listings" class="toggle-btn"><i class="fas fa-chevron-up"></i></button>
      </div>
      <div class="listings-container" id="listings-container"></div>
    </section>
  </main>

  <!-- GLOBAL FOOTER -->
  <footer class="global-footer">
    <div class="footer-links">
      <a href="#">About</a>
      <a href="#">Terms</a>
      <a href="#">Privacy</a>
      <a href="#">Careers</a>
      <a href="#">Contact</a>
    </div>
    <div class="social">
      <a href="#" aria-label="WhatsApp"><i class="fab fa-whatsapp"></i></a>
      <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
      <a href="#" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
    </div>
    <div class="lang-currency-footer">
      <select aria-label="Language">
        <option>English</option>
        <option>Swahili</option>
        <option>French</option>
      </select>
      <select aria-label="Currency">
        <option>KES</option>
        <option>USD</option>
        <option>EUR</option>
      </select>
    </div>
    <div class="copyright">
      ¬© 2025 AirHost & ShortStay ‚Äî real‚Äëtime stays
    </div>
  </footer>

  <!-- FLOATING DASH AI ASSISTANT -->
  <div id="dash-assistant" class="chat-floating">
    <button class="chat-toggle" aria-label="Ask Dash AI"><i class="fas fa-robot"></i> Dash</button>
    <div class="chat-panel hidden">
      <div class="chat-header">Dash AI assistant</div>
      <div class="chat-messages">üëã Need help? Negotiate, installments, or find stays?</div>
      <input type="text" placeholder="Type your question..." disabled>
    </div>
  </div>

  <!-- Scripts: vanilla JS, order matters -->
  <script src="js/data.js"></script>
  <script src="js/map.js"></script>
  <script src="js/filters.js"></script>
  <script src="js/app.js"></script>
  <!-- Service worker registration -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('service-worker.js').catch(err => console.warn('SW registration failed', err));
      });
    }
  </script>
</body>
</html>